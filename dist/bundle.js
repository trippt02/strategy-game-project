/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={228:t=>{var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var i,a,u=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var s in i=Object(arguments[c]))n.call(i,s)&&(u[s]=i[s]);if(e){a=e(i);for(var l=0;l<a.length;l++)r.call(i,a[l])&&(u[a[l]]=i[a[l]])}}return u}},287:(t,e,n)=>{var r=n(228);if("function"==typeof Symbol&&Symbol.for){var o=Symbol.for;o("react.element"),o("react.portal"),o("react.fragment"),o("react.strict_mode"),o("react.profiler"),o("react.provider"),o("react.context"),o("react.forward_ref"),o("react.suspense"),o("react.memo"),o("react.lazy")}"function"==typeof Symbol&&Symbol.iterator;function i(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u={};function c(t,e,n){this.props=t,this.context=e,this.refs=u,this.updater=n||a}function s(){}function l(t,e,n){this.props=t,this.context=e,this.refs=u,this.updater=n||a}c.prototype.isReactComponent={},c.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(i(85));this.updater.enqueueSetState(this,t,e,"setState")},c.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},s.prototype=c.prototype;var f=l.prototype=new s;f.constructor=l,r(f,c.prototype),f.isPureReactComponent=!0;Object.prototype.hasOwnProperty},540:(t,e,n)=>{n(287)}},e={};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}!function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}(540);var i=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mapData=this.generateInitialMap(300,300)},(e=[{key:"generateInitialMap",value:function(t,e){for(var n=[],r=0;r<e;r++){n[r]=[];for(var o=0;o<t;o++){var i=Math.random()>.8?"mountain":"grass";n[r][o]={terrain:i,explored:r<10&&o<10}}}return n}},{key:"render",value:function(){var t=document.getElementById("map");t.innerHTML="",this.mapData.forEach((function(e,n){var r=document.createElement("div");r.classList.add("map-row"),e.forEach((function(t,e){var o=document.createElement("div");o.classList.add("map-tile",t.terrain),t.explored||o.classList.add("fog-of-war"),o.dataset.x=e,o.dataset.y=n,r.appendChild(o)})),t.appendChild(r)}))}},{key:"expandMap",value:function(){console.log("Expanding map...");var t=Array(this.mapData[0].length).fill({terrain:"water",explored:!1});this.mapData.push(t),this.render()}},{key:"update",value:function(){this.render()}}])&&r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}var s=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wood=100,this.stone=50,this.ore=20,this.grain=30},(e=[{key:"collectResource",value:function(t,e){this[t]+=e,this.updateUI()}},{key:"update",value:function(){this.updateUI()}},{key:"updateUI",value:function(){var t=document.getElementById("resources");t&&(t.innerHTML='\n                <h3>Resources</h3>\n                <div>Wood: <span id="wood-count">'.concat(this.wood,'</span></div>\n                <div>Stone: <span id="stone-count">').concat(this.stone,'</span></div>\n                <div>Ore: <span id="ore-count">').concat(this.ore,'</span></div>\n                <div>Grain: <span id="grain-count">').concat(this.grain,"</span></div>\n            "))}}])&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}var d=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resources=e,this.availableBuildings=[{name:"Farm",cost:{wood:20,stone:10}},{name:"Mine",cost:{wood:30,ore:15}}],this.placedBuildings=[]},(e=[{key:"render",value:function(){var t=document.getElementById("buildings");t&&(t.innerHTML="<h3>Buildings</h3><ul>".concat(this.availableBuildings.map((function(t){return"<li>".concat(t.name," (Wood: ").concat(t.cost.wood,", Stone: ").concat(t.cost.stone||0,", Ore: ").concat(t.cost.ore||0,') <button class="build-button" data-building="').concat(t.name,'">Build</button></li>')})).join(""),"</ul>"),this.addEventListeners())}},{key:"addEventListeners",value:function(){var t=this;document.querySelectorAll(".build-button").forEach((function(e){e.addEventListener("click",(function(e){var n=e.target.dataset.building;t.attemptBuild(n)}))}))}},{key:"attemptBuild",value:function(t){var e=this.availableBuildings.find((function(e){return e.name===t}));e&&this.resources.wood>=e.cost.wood&&(!e.cost.stone||this.resources.stone>=e.cost.stone)&&(!e.cost.ore||this.resources.ore>=e.cost.ore)?(console.log("Attempting to build: ".concat(t)),this.resources.wood-=e.cost.wood,e.cost.stone&&(this.resources.stone-=e.cost.stone),e.cost.ore&&(this.resources.ore-=e.cost.ore),this.resources.updateUI()):console.log("Not enough resources to build:",t)}},{key:"update",value:function(){this.render()}}])&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function v(t){var e=function(t){if("object"!=y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}var b=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=e},(e=[{key:"render",value:function(){var t=document.getElementById("ui");t?(t.innerHTML="",t&&(t.innerHTML='\n                <h3>Actions</h3>\n                <button id="explore-button">Explore New Land</button>\n                ',this.addEventListeners())):console.error("UI container not found")}},{key:"addEventListeners",value:function(){var t=this,e=document.getElementById("explore-button");e&&e.addEventListener("click",(function(){t.map.expandMap()}))}},{key:"update",value:function(){this.render()}}])&&m(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function w(t){var e=function(t){if("object"!=h(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==h(e)?e:e+""}app.get("/src/app.js",(function(t,e){e.set("Content-Type","application/javascript"),e.sendFile("//src/app.js")})),(new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=new i,this.resources=new s,this.buildings=new d,this.ui=new b,this.gameLoop=this.gameLoop.bind(this)},(e=[{key:"init",value:function(){this.map.render(),this.ui.render(),this.gameLoop()}},{key:"gameLoop",value:function(){this.update(),this.render(),requestAnimationFrame(this.gameLoop)}},{key:"update",value:function(){this.resources.update(),this.buildings.update(),this.map.update(),this.ui.update()}},{key:"render",value:function(){this.ui.update()}}])&&g(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}())).init()})();